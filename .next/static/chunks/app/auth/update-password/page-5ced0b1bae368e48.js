(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{63:(e,t,a)=>{"use strict";var r=a(7260);a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},643:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(5155),s=a(2115),o=a(8525),n=a(63),l=a(9708),i=a(5299),c=a(2619),d=a.n(c);function u(){let[e,t]=(0,s.useState)(""),[a,c]=(0,s.useState)(""),[u,m]=(0,s.useState)(!1),[p,b]=(0,s.useState)({type:"",content:""}),h=(0,o.U)(),x=(0,n.useRouter)(),y=async t=>{if(t.preventDefault(),e!==a)return void b({type:"error",content:"Le password non corrispondono."});if(e.length<6)return void b({type:"error",content:"La password deve essere di almeno 6 caratteri."});m(!0),b({type:"",content:""});let{error:r}=await h.auth.updateUser({password:e});r?b({type:"error",content:"Errore: ".concat(r.message)}):(b({type:"success",content:"Password aggiornata con successo! Sarai reindirizzato..."}),setTimeout(()=>{x.push("/dashboard")},2e3)),m(!1)};return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"absolute top-1/4 left-1_4 w-72 h-72 bg-primary/20 rounded-full filter blur-3xl opacity-40 animate-pulse"}),(0,r.jsx)("div",{className:"absolute bottom-1/4 right-1_4 w-72 h-72 bg-secondary/20 rounded-full filter blur-3xl opacity-40 animate-pulse animation-delay-3000"}),(0,r.jsxs)("div",{className:"w-full max-w-md bg-background-secondary/80 backdrop-blur-md border border-white/10 rounded-2xl p-8 z-10 shadow-2xl",children:[(0,r.jsx)("h2",{className:"text-3xl font-heading font-bold text-center text-white mb-4",children:"Crea Nuova Password"}),(0,r.jsx)("p",{className:"text-center text-gray-400 mb-6",children:"Inserisci la tua nuova password sicura."}),p.content&&(0,r.jsx)("div",{className:"p-3 rounded-lg mb-4 text-sm ".concat("error"===p.type?"bg-red-500/20 text-red-300":"bg-green-500/20 text-green-300"),children:p.content}),"success"!==p.type?(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{htmlFor:"password_new",className:"block text-sm font-medium text-gray-300 mb-1",children:"Nuova Password"}),(0,r.jsx)(l.A,{className:"absolute left-3 top-10 w-5 h-5 text-gray-500"}),(0,r.jsx)("input",{type:"password",id:"password_new",value:e,onChange:e=>t(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-4 py-3 bg-background-main border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("label",{htmlFor:"password_confirm",className:"block text-sm font-medium text-gray-300 mb-1",children:"Conferma Password"}),(0,r.jsx)(l.A,{className:"absolute left-3 top-10 w-5 h-5 text-gray-500"}),(0,r.jsx)("input",{type:"password",id:"password_confirm",value:a,onChange:e=>c(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-4 py-3 bg-background-main border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary"})]}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-primary text-background-main font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-all flex items-center justify-center",children:u?(0,r.jsx)(i.A,{className:"animate-spin"}):"Salva Nuova Password"})]}):(0,r.jsx)(d(),{href:"/dashboard",className:"w-full block text-center bg-primary text-background-main font-bold py-3 px-4 rounded-lg hover:bg-opacity-90 transition-all",children:"Vai alla Dashboard"})]})]})}},3566:(e,t,a)=>{Promise.resolve().then(a.bind(a,643))},8525:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(3587);function s(){return(0,r.createBrowserClient)("https://siojtnnsjagksuhxrwpi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNpb2p0bm5zamFna3N1aHhyd3BpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTY3MTYsImV4cCI6MjA3NjIzMjcxNn0.EmfZZZ6AlEoZoTwkReD6a2LRnHekaan-RGnt1fEa3c8")}},9708:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[929,619,441,255,358],()=>e(e.s=3566)),_N_E=e.O()}]);