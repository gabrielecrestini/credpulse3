(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6700:(e,t,s)=>{Promise.resolve().then(s.bind(s,7089))},7089:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(5155),r=s(5239),n=s(2619),i=s.n(n),l=s(8525),c=s(63),o=s(2115),d=s(1847);let m=(0,d.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),u=(0,d.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=s(5299);let p=e=>new Intl.NumberFormat("it-IT").format(e);function x(e){let{mission:t,status:s,userId:n}=e,[d,x]=(0,o.useState)(!1),f=(0,l.U)(),b=(0,c.useRouter)(),g=async()=>{x(!0);let{error:e}=await f.from("user_missions").insert({user_id:n,mission_id:t.id,status:"started"});if(e){console.error("Errore nell'avviare la missione:",e.message),x(!1);return}b.refresh(),window.open(t.call_to_action_url,"_blank"),x(!1)};return(0,a.jsxs)("div",{className:"bg-background-secondary/80 backdrop-blur-md border border-white/10 rounded-2xl p-6 flex flex-col h-full shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-lg bg-white/10 p-2 flex items-center justify-center",children:(0,a.jsx)(r.default,{src:t.partner_logo_url||"/images/hero-card.png",alt:t.partner_name,width:40,height:40,className:"object-contain"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-heading font-bold text-white",children:t.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["Partner: ",t.partner_name]})]})]}),(0,a.jsx)("p",{className:"text-gray-300 text-sm mb-6 flex-grow",children:t.description}),(0,a.jsxs)("div",{className:"mb-6 text-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"RICOMPENSA"}),(0,a.jsxs)("p",{className:"text-3xl font-heading font-bold text-primary",children:[p(t.rwc_reward)," Creds"]})]}),(0,a.jsx)("div",{className:"mt-auto",children:(()=>{switch(s){case"completed":return(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center px-6 py-3 rounded-lg bg-green-500/20 text-green-400 font-semibold",children:[(0,a.jsx)(m,{className:"w-5 h-5"}),"Completata"]});case"started":return(0,a.jsxs)(i(),{href:t.call_to_action_url,target:"_blank",className:"flex items-center gap-2 justify-center px-6 py-3 rounded-lg bg-white/10 text-gray-300 font-semibold hover:bg-white/20 transition-colors",children:[(0,a.jsx)(u,{className:"w-5 h-5"}),"Continua Missione"]});default:return(0,a.jsx)("button",{onClick:g,disabled:d,className:"flex items-center gap-2 justify-center px-6 py-3 rounded-lg bg-primary text-background-main font-bold hover:bg-opacity-90 transition-all w-full",children:d?(0,a.jsx)(h.A,{className:"w-5 h-5 animate-spin"}):"Inizia (+".concat(p(t.rwc_reward)," Creds)")})}})()})]})}},8525:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var a=s(3587);function r(){return(0,a.createBrowserClient)("https://siojtnnsjagksuhxrwpi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNpb2p0bm5zamFna3N1aHhyd3BpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA2NTY3MTYsImV4cCI6MjA3NjIzMjcxNn0.EmfZZZ6AlEoZoTwkReD6a2LRnHekaan-RGnt1fEa3c8")}}},e=>{e.O(0,[929,619,239,441,255,358],()=>e(e.s=6700)),_N_E=e.O()}]);